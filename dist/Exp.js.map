{"version":3,"sources":["webpack:///webpack/bootstrap 0713aea2ee01683c8717","webpack:///./src/Exp.js"],"names":["Exp","settings","app","document","querySelector","el","data","methods","model","watcher","bindModels","bindMethods","moveMethods","Object","keys","key","that","forEach","value","defineProperty","enumerable","get","set","val","bindings","select","modelBindings","expIfs","textContent","style","display","selector","map","input","inputs","join","getAttribute","addEventListener","event","target","supportedEvents","events","console","log","method","apply","Array","prototype","slice","call","querySelectorAll","window"],"mappings":"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","file":"Exp.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 0713aea2ee01683c8717","class Exp {\r\n    constructor(settings) {\r\n        /* Find application element */\r\n        this.app = document.querySelector(settings.el);\r\n\r\n        this.data = settings.data;\r\n        this.methods = settings.methods;\r\n\r\n        /* init model */\r\n        this.model = {};\r\n\r\n        /* init watcher */\r\n        this.watcher(this.data);\r\n\r\n        /* bind all models and methods */\r\n        this.bindModels();\r\n        this.bindMethods();\r\n\r\n        /* move methods to model for outside use */\r\n        this.moveMethods();\r\n\r\n        return this.model;\r\n    }\r\n\r\n    moveMethods() {\r\n        for (var key of Object.keys(this.methods)) {\r\n            this.model[key] = this.methods[key];\r\n        }\r\n    }\r\n\r\n    watcher(model) {\r\n        var that = this;\r\n        Object.keys(model).forEach(key => {\r\n            var value = model[key];\r\n\r\n            Object.defineProperty(that.model, key, {\r\n                enumerable: true,\r\n                get() {\r\n                    return value;\r\n                },\r\n                set(val) {\r\n                    value = val;\r\n                    var bindings = that.select(`*[exp-bind=\"${key}\"]`);\r\n                    var modelBindings = that.select(`*[exp-model=\"${key}\"]`);\r\n                    var expIfs = that.select(`*[exp-if=\"${key}\"]`);\r\n                    bindings.forEach(el => {\r\n                        el.textContent = value;\r\n                    });\r\n                    modelBindings.forEach(el => {\r\n                        el.value = value;\r\n                    })\r\n\r\n                    expIfs.forEach(el => {\r\n                        if (value) {\r\n                            el.style.display = \"block\";\r\n                        } else {\r\n                            el.style.display = \"none\";\r\n                        }\r\n                    })\r\n                }\r\n            });\r\n\r\n            that.model[key] = value;\r\n        });\r\n    }\r\n\r\n    bindModels() {\r\n        let selector = [\"email\", \"number\", \"search\", \"tel\", \"text\", \"url\"].map(input => {\r\n            return `input[type=\"${input}\"][exp-model]`;\r\n        })\r\n\r\n        var inputs = this.select(selector.join());\r\n\r\n        inputs.forEach(input => {\r\n            let model = input.getAttribute(\"exp-model\");\r\n            input.value = this.model[model];\r\n\r\n            input.addEventListener(\"input\", event => {\r\n                this.model[model] = event.target.value;\r\n            });\r\n        });\r\n    }\r\n\r\n    bindMethods() {\r\n        var that = this;\r\n        let supportedEvents = [\"click\", \"submit\", \"input\"];\r\n        let selector = supportedEvents.map(event => {\r\n            return `*[exp-${event}]`;\r\n        })\r\n\r\n        var events = this.select(selector.join());\r\n        console.log(events);\r\n\r\n       events.forEach(el => {\r\n           supportedEvents.forEach(event => {\r\n               var method = el.getAttribute('exp-' + event);\r\n               if (method === null || !(method in that.methods)) return;\r\n\r\n               el.addEventListener(event, function() {\r\n                   console.log(that.methods)\r\n                   that.methods[method].apply(that.model);\r\n               });\r\n           });\r\n       });\r\n    }\r\n\r\n    select(selector) {\r\n        return Array.prototype.slice.call(this.app.querySelectorAll(selector));\r\n    }\r\n}\r\n\r\nwindow.Exp = Exp;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Exp.js"],"sourceRoot":""}